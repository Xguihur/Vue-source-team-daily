# 流程 :rocket:
1. 首先创建一个 js 脚本，里面提供 Vue 的类，构造函数需要一个配置对象，并且为类的实例属性添加一个配置选项中的data
2. 接着在 HTML 中创建一个模板，并且在内部 script 中创建 Vue 实例并且传入配置文件
3. 接下来就是对 data对象 的每一个属性进行监听（数据劫持）
4. 通过设置一个 Observe 方法进行数据劫持，并且在构造函数中随着类的创建主动调用这个方法，需要一个参数（可以是对象，也可以是空或者其他基本类型）
5. 接着就是关键的如何书写这个 Observe 方法了
   1. 首先是通过 Object.keys 拿到所有的对象的属性，然后进行遍历监听所有的属性值
   2. 接着就是对每一个属性进行数据劫持，最关键的是里面的 get 和 set 劫持的实现
   3. 里面 get 和 set 的数据劫持如果直接操作 data 对象中对应的属性，会不断地循环引用，很恶心！于是可以使用 闭包 的方式解决这个问题，在监听之前先用一个变量拿到 对应的 属性值
   4. 然后 get 中将闭包的那个值 return 出去，set 中 将 newValue 赋给 闭包的那个值
   5. 其次需要实现以下嵌套数据劫持，也就是对象内部还有对象的情况，这就需要用到递归了
   6. 在 Observe 方法一进来就判断 非空或不为对象，如果满足就 return。之后在通过闭包获取到值的时候，将这个值 作为 Observe 的参数进行递归。
   7. 因为 构造函数中 执行这个函数的时候传入的是 data 对象，它一定是一个对象，所以一开始一定会将所有的值进行绑定。一进来的判断是为了对 data 内部属性值仍然为对象 这种情况进行处理

# 需要注意的细节与遇到的问题 :exclamation:
1. 如果对数据进行劫持了，那么默认的 get 和 set 就不会起作用了，需要自己去重写一下
2. 数据劫持中的 get 和 set 可能会造成 循环引用，今天就卡了好一会了哈哈哈，后来发现老师用的方式就是这个 闭包 去解决的！！！闭包真牛
3. 一开始我会想 get 通过闭包实现了，那么 set 中怎么去防止循环引用呢？没想到老师直接将新的值赋给 value ，这样只要下一次 get 那就拿到的是新的值，这个真的自己想不到！！！
4. 一开始写的时候，不知道这个数据劫持的作用，稀里糊涂就省略了这一个函数，先去实现了 属性代理，但是后面了解到属性代理的作用不过是让用户通过 vm.name... 让用户少写一个 $data,本质原理就是给 vm 添加一套 data 也有的属性，并且在get和set中将值代理到 $data 对应的值中，就这样而已
5. 一开始不知道是这个作用，还去说里面的 this 拿不到值，自己在判断 this 指向，去改 get 函数为箭头函数哈哈哈，一顿操作猛如虎，一看 log 死循环
6. 下一阶段就是结合 发布订阅 模式实现双向数据绑定了！！！:fire: :fire: